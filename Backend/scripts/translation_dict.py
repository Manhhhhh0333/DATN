"""
Dictionary để dịch meaning từ tiếng Anh sang tiếng Việt cho HSK 1
"""

# Dictionary dịch từ tiếng Anh sang tiếng Việt
TRANSLATION_DICT = {
    # Common words
    "love": "yêu, tình yêu",
    "eight": "tám",
    "Dad": "bố, cha",
    "cup": "cốc",
    "glass": "ly, cốc",
    "Beijing": "Bắc Kinh",
    "measure word for books": "lượng từ cho sách",
    "you're welcome": "không có gì",
    "don't be polite": "đừng khách sáo",
    "no": "không",
    "not": "không",
    "dish (type of food)": "món ăn",
    "vegetables": "rau",
    "tea": "trà",
    "eat": "ăn",
    "taxi": "taxi",
    "cab": "xe taxi",
    "make a phone call": "gọi điện thoại",
    "big": "lớn, to",
    "large": "lớn, rộng",
    "indicates possession, like adding 's to a noun": "chỉ sở hữu",
    "a dot": "chấm, điểm",
    "a little": "một chút",
    "o'clock": "giờ",
    "computer": "máy tính",
    "television": "tivi",
    "TV": "tivi",
    "movie": "phim",
    "film": "phim",
    "things": "đồ vật",
    "stuff": "đồ đạc",
    "all": "tất cả",
    "both": "cả hai",
    "to read": "đọc",
    "to study": "học",
    "sorry": "xin lỗi",
    "many": "nhiều",
    "how much?": "bao nhiêu?",
    "how many?": "bao nhiêu?",
    "son": "con trai",
    "two": "hai",
    "restaurant": "nhà hàng",
    "hotel": "khách sạn",
    "airplane": "máy bay",
    "minute": "phút",
    "(measure word for time)": "lượng từ cho thời gian",
    "happy": "vui",
    "glad": "vui mừng",
    "general measure word": "lượng từ chung",
    "work": "công việc",
    "a job": "công việc",
    "dog": "chó",
    "Chinese language": "tiếng Trung",
    "good": "tốt",
    "number": "số",
    "day of a month": "ngày trong tháng",
    "to drink": "uống",
    "and": "và",
    "with": "với",
    "very": "rất",
    "quite": "khá",
    "back": "phía sau",
    "behind": "đằng sau",
    "to return": "trở về",
    "to reply": "trả lời",
    "to go back": "quay lại",
    "know how to": "biết cách",
    "how many": "bao nhiêu",
    "several": "một vài",
    "a few": "một ít",
    "family": "gia đình",
    "home": "nhà",
    "to be called": "gọi là",
    "today": "hôm nay",
    "nine": "chín",
    "to open": "mở",
    "to start": "bắt đầu",
    "to operate (a vehicle)": "lái (xe)",
    "see": "xem, thấy",
    "look at": "nhìn",
    "to watch": "xem",
    "catch sight of": "nhìn thấy",
    "lump": "cục",
    "piece": "miếng",
    "sum of money": "khoản tiền",
    "come": "đến",
    "arrive": "đến nơi",
    "ever since": "từ khi",
    "next": "tiếp theo",
    "teacher": "giáo viên",
    "indicates a completed or finished action": "chỉ hành động đã hoàn thành",
    "cold": "lạnh",
    "inside": "bên trong",
    "Chinese mile (~.5 km)": "dặm Trung Quốc",
    "six": "sáu",
    "mom": "mẹ",
    "mum": "mẹ",
    "indicates a yes/no question (added to a statement)": "chỉ câu hỏi có/không",
    "to buy": "mua",
    "cat": "mèo",
    "it doesn't matter": "không sao",
    "never mind": "không sao",
    "not have": "không có",
    "there is not": "không có",
    "(cooked) rice": "cơm",
    "tomorrow": "ngày mai",
    "name": "tên",
    "which": "cái nào",
    "how": "như thế nào",
    "where? (Beijing accent)": "ở đâu?",
    "that": "đó, kia",
    "then": "sau đó",
    "indicates a question": "chỉ câu hỏi",
    "how about...?": "thế còn...?",
    "can": "có thể",
    "be able": "có khả năng",
    "you (singular)": "bạn",
    "year": "năm",
    "daughter": "con gái",
    "friend": "bạn",
    "pretty": "xinh đẹp",
    "beautiful": "đẹp",
    "apple": "táo",
    "seven": "bảy",
    "money": "tiền",
    "coin": "đồng xu",
    "in front": "phía trước",
    "please": "xin mời, làm ơn",
    "invite": "mời",
    "to treat someone to something": "mời ai đó",
    "go": "đi",
    "to leave": "rời đi",
    "heat": "nhiệt",
    "hot": "nóng",
    "person": "người",
    "man": "người đàn ông",
    "people": "người",
    "recognize": "nhận ra",
    "know (a person)": "biết (một người)",
    "three": "ba",
    "shop": "cửa hàng",
    "store": "cửa hàng",
    "above": "phía trên",
    "up": "lên",
    "late morning (before noon)": "buổi sáng",
    "few": "ít",
    "little": "ít",
    "who": "ai",
    "what? (replaces the noun to turn a statement into a question)": "gì?",
    "ten": "mười",
    "time": "thời gian",
    "be": "là",
    "is": "là",
    "are": "là",
    "am": "là",
    "book": "sách",
    "letter": "chữ cái",
    "water": "nước",
    "fruit": "hoa quả",
    "to sleep": "ngủ",
    "go to bed": "đi ngủ",
    "speak": "nói",
    "four": "bốn",
    "years old": "tuổi",
    "age": "tuổi",
    "he": "anh ấy",
    "him": "anh ấy",
    "she": "cô ấy",
    "too (much)": "quá",
    "weather": "thời tiết",
    "listen": "nghe",
    "hear": "nghe",
    "fellow student": "bạn học",
    "schoolmate": "bạn cùng trường",
    "hello (on the phone)": "alo (khi nghe điện thoại)",
    "I": "tôi",
    "me": "tôi",
    "we": "chúng tôi",
    "us": "chúng tôi",
    "five": "năm",
    "to like": "thích",
    "fall": "rơi",
    "below": "phía dưới",
    "afternoon": "buổi chiều",
    "to rain": "mưa",
    "Mr.": "ông",
    "Sir": "thưa ngài",
    "now": "bây giờ",
    "think": "nghĩ",
    "believe": "tin",
    "suppose": "cho rằng",
    "would like to": "muốn",
    "small": "nhỏ",
    "young": "trẻ",
    "young lady": "cô gái",
    "miss": "cô",
    "Ms.": "cô",
    "some": "một số",
    "few": "một ít",
    "several": "một vài",
    "to write": "viết",
    "to compose": "soạn",
    "thank you": "cảm ơn",
    "week": "tuần",
    "student": "học sinh",
    "learn": "học",
    "school": "trường học",
    "one": "một",
    "once": "một lần",
    "a": "một",
    "clothes": "quần áo",
    "doctor": "bác sĩ",
    "hospital": "bệnh viện",
    "chair": "ghế",
    "a bit": "một chút",
    "have": "có",
    "moon": "mặt trăng",
    "month": "tháng",
    "at": "ở",
    "on": "trên",
    "in": "trong",
    "indicates an action in progress": "chỉ hành động đang diễn ra",
    "goodbye": "tạm biệt",
    "see you later": "hẹn gặp lại",
    "how?": "như thế nào?",
    "how about?": "thế còn?",
    "how is/was it?": "thế nào?",
    "this": "này, đây",
    "China": "Trung Quốc",
    "noon": "buổi trưa",
    "midday": "giữa trưa",
    "to live": "sống",
    "reside": "cư trú",
    "to stop": "dừng lại",
    "table": "bàn",
    "desk": "bàn",
    "letter": "chữ",
    "character": "chữ",
    "yesterday": "hôm qua",
    "do": "làm",
    "make": "làm",
    "sit": "ngồi",
}


def translate_meaning(english_text: str) -> str:
    """
    Dịch meaning từ tiếng Anh sang tiếng Việt
    
    Args:
        english_text: Text tiếng Anh (có thể có nhiều nghĩa phân cách bởi dấu phẩy)
    
    Returns:
        Text tiếng Việt
    """
    if not english_text:
        return ""
    
    # Tách các nghĩa bằng dấu phẩy
    meanings = [m.strip() for m in english_text.split(',')]
    
    translated_meanings = []
    for meaning in meanings:
        # Loại bỏ dấu ngoặc đơn và nội dung bên trong
        clean_meaning = meaning.split('(')[0].strip()
        
        # Tìm trong dictionary
        if clean_meaning in TRANSLATION_DICT:
            translated_meanings.append(TRANSLATION_DICT[clean_meaning])
        else:
            # Nếu không tìm thấy, giữ nguyên hoặc thử tìm từng từ
            # Tìm từng từ riêng lẻ
            words = clean_meaning.split()
            translated_words = []
            for word in words:
                # Loại bỏ dấu câu
                clean_word = word.strip('.,!?;:')
                if clean_word.lower() in TRANSLATION_DICT:
                    translated_words.append(TRANSLATION_DICT[clean_word.lower()])
                else:
                    # Giữ nguyên nếu không tìm thấy
                    translated_words.append(clean_word)
            
            if translated_words:
                translated_meanings.append(' '.join(translated_words))
            else:
                # Giữ nguyên nếu không dịch được
                translated_meanings.append(meaning)
    
    return ', '.join(translated_meanings) if translated_meanings else english_text

